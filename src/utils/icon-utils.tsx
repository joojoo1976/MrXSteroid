import React from 'react';
import {
    Dumbbell, Heart, Activity, ShieldAlert, ShieldCheck, Clock, TestTube2,
    BookOpen, Map, TrendingUp, RotateCcw, Zap, BicepsFlexed, Trophy, Flag, Star,
    Brain, CircleDollarSign, Sparkles
} from 'lucide-react';

export const USFlag = () => (
    <svg viewBox="0 0 16 12" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="16" height="12" fill="#fff" />
        <path d="M0 0h16v1H0zm0 2h16v1H0zm0 2h16v1H0zm0 2h16v1H0zm0 2h16v1H0z" fill="#bf0a30" />
        <rect width="7" height="6" fill="#002868" />
        <g fill="#fff">
            <circle cx="1.5" cy="1" r=".5" />
            <circle cx="3.5" cy="1" r=".5" />
            <circle cx="5.5" cy="1" r=".5" />
            <circle cx="2.5" cy="3" r=".5" />
            <circle cx="4.5" cy="3" r=".5" />
            <circle cx="1.5" cy="5" r=".5" />
            <circle cx="3.5" cy="5" r=".5" />
            <circle cx="5.5" cy="5" r=".5" />
        </g>
    </svg>
);

export const EGFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="12" height="9" fill="#fff" />
        <rect width="12" height="3" fill="#ce1126" />
        <rect width="12" height="3" y="6" fill="#000" />
        <circle cx="6" cy="4.5" r="1.2" fill="#c09300" />
    </svg>
);

export const ILFlag = () => (
    <svg viewBox="0 0 22 16" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="22" height="16" fill="#fff" />
        <rect y="2" width="22" height="2" fill="#005eb8" />
        <rect y="12" width="22" height="2" fill="#005eb8" />
        <g transform="translate(11,8) scale(0.5)">
            <polygon points="0,-6 5.2,3 -5.2,3" fill="none" stroke="#005eb8" strokeWidth="1.5" />
            <polygon points="0,6 5.2,-3 -5.2,-3" fill="none" stroke="#005eb8" strokeWidth="1.5" />
        </g>
    </svg>
);

export const FRFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="4" height="9" fill="#002395" />
        <rect width="4" height="9" x="4" fill="#fff" />
        <rect width="4" height="9" x="8" fill="#ed2939" />
    </svg>
);

export const ESFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="12" height="2.25" fill="#aa151b" />
        <rect width="12" height="4.5" y="2.25" fill="#f1bf00" />
        <rect width="12" height="2.25" y="6.75" fill="#aa151b" />
    </svg>
);

export const DEFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="12" height="3" fill="#000" />
        <rect width="12" height="3" y="3" fill="#dd0000" />
        <rect width="12" height="3" y="6" fill="#ffce00" />
    </svg>
);

export const ITFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="4" height="9" fill="#009246" />
        <rect width="4" height="9" x="4" fill="#fff" />
        <rect width="4" height="9" x="8" fill="#ce2b37" />
    </svg>
);

export const RUFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="12" height="3" fill="#fff" />
        <rect width="12" height="3" y="3" fill="#0039a6" />
        <rect width="12" height="3" y="6" fill="#d52b1e" />
    </svg>
);

export const TRFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="12" height="9" fill="#e30a17" />
        <circle cx="5" cy="4.5" r="2" fill="#fff" />
        <circle cx="5.5" cy="4.5" r="1.6" fill="#e30a17" />
        <path d="M7 4.5l1 0.5l-0.5 1l-0.5 -1l1 -0.5z" fill="#fff" transform="rotate(-15 7 4.5)" />
    </svg>
);

export const PTFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="4.8" height="9" fill="#006600" />
        <rect width="7.2" height="9" x="4.8" fill="#ff0000" />
        <circle cx="4.8" cy="4.5" r="1.5" fill="#ffff00" stroke="#000" strokeWidth="0.1" />
    </svg>
);

export const FAFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="12" height="3" fill="#239f40" />
        <rect width="12" height="3" y="3" fill="#fff" />
        <rect width="12" height="3" y="6" fill="#da0000" />
        <circle cx="6" cy="4.5" r="0.8" fill="#da0000" />
    </svg>
);

export const URFlag = () => (
    <svg viewBox="0 0 12 9" className="w-5 h-3.5 rounded-[2px] shadow-sm flex-shrink-0 border border-zinc-100 dark:border-zinc-800" xmlns="http://www.w3.org/2000/svg">
        <rect width="12" height="9" fill="#01411c" />
        <rect width="3" height="9" fill="#fff" />
        <circle cx="7.5" cy="4.5" r="2.5" fill="#fff" />
        <circle cx="8" cy="4" r="2.5" fill="#01411c" />
    </svg>
);

export const IconRenderer = ({ iconKey, className }: { iconKey: string, className?: string }) => {
    // If className is provided, use it. Otherwise default to "w-8 h-8 text-..."
    const cls = className || "w-8 h-8";
    const colorCls = className ? "" : "text-gold-500"; // If custom class, trust it handles color or inherit. If not, separate handling? 
    // Actually, simpler logic:
    // If className is provided, pass it to the icon.
    // BUT the original code had specific colors per iconKey (e.g. text-pink-500).
    // If I pass className="w-32 h-32", I lose the specific color unless I merge classes.
    // User wants "develop" aesthetic.
    // In my Features update, I passed `className="w-32 h-32"`.
    // And also `div className="text-gold-500..." <IconRenderer ... className="w-8 h-8" />`

    // Let's adopt a logic: if className is passed, use ONLY that (plus basic icon functionality).
    // Or merge?
    // Let's enable passing className. If passed, it overrides the default "w-8 h-8 text-..." entirely?
    // Or just append?

    // The safest is:
    // Use the specific icon component.
    // Apply `className` if provided.
    // IF provided, do NOT apply the default color/size classes.
    // UNLESS we want to merge.

    // Let's look at my Features usage:
    // 1. <IconRenderer iconKey={feature.iconKey} className="w-32 h-32" />  (For background ghost icon)
    // 2. <IconRenderer iconKey={feature.iconKey} className="w-8 h-8" /> (Inside gold text div)

    // So if className is present, I should use it INSTEAD of the hardcoded defaults.

    const props = className ? { className } : {};

    switch (iconKey) {
        case 'athlete': return <Dumbbell className="w-8 h-8 text-gold-500" {...props} />;
        case 'women': return <Heart className="w-8 h-8 text-pink-500" {...props} />;
        case 'coach': return <Activity className="w-8 h-8 text-blue-500" {...props} />;
        case 'truth': return <ShieldAlert className="w-8 h-8 text-red-500" {...props} />;
        case 'shield': return <ShieldCheck className="w-8 h-8 text-green-500" {...props} />;
        case 'time': return <Clock className="w-8 h-8 text-gold-500" {...props} />;
        case 'science': return <TestTube2 className="w-8 h-8 text-purple-500" {...props} />;
        case 'source': return <BookOpen className="w-8 h-8 text-blue-500" {...props} />;
        case 'health': return <Heart className="w-8 h-8 text-red-500" {...props} />;
        case 'guide': return <Map className="w-8 h-8 text-green-500" {...props} />;
        case 'chart': return <TrendingUp className="w-8 h-8 text-gold-500" {...props} />;
        case 'exit': return <RotateCcw className="w-8 h-8 text-blue-500" {...props} />;
        case 'spark': return <Zap className="w-8 h-8 text-gold-500" {...props} />;
        case 'muscle': return <BicepsFlexed className="w-8 h-8 text-gold-500" {...props} />;
        case 'trophy': return <Trophy className="w-8 h-8 text-gold-500" {...props} />;
        case 'flag': return <Flag className="w-8 h-8 text-gold-500" {...props} />;
        case 'roi': return <CircleDollarSign className="w-8 h-8 text-gold-500" {...props} />;
        case 'safety': return <ShieldCheck className="w-8 h-8 text-green-500" {...props} />;
        case 'simplified': return <Sparkles className="w-8 h-8 text-blue-400" {...props} />;
        case 'smart': return <Brain className="w-8 h-8 text-purple-400" {...props} />;
        default: return <Star className="w-8 h-8 text-gold-500" {...props} />;
    }
};
